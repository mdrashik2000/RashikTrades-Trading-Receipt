<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RTC Premium Generator</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        :root {
            --bg-page: #f8fafc;
            --text-main: #0f172a;
            --text-sub: #64748b;
            --border: #cbd5e1;
            --focus-ring: rgba(99, 102, 241, 0.2);
            
            /* Theme Variables */
            --theme-color: #10b981;
            --theme-soft: #ecfdf5;
            --theme-glow: 0 0 60px rgba(16, 185, 129, 0.25);
            --theme-border: rgba(16, 185, 129, 0.3);
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f1f5f9;
            /* Premium Animated Background */
            background-image: 
                radial-gradient(at 0% 0%, rgba(99, 102, 241, 0.08) 0px, transparent 50%),
                radial-gradient(at 100% 0%, rgba(236, 72, 153, 0.08) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(16, 185, 129, 0.08) 0px, transparent 50%),
                radial-gradient(at 0% 100%, rgba(239, 68, 68, 0.08) 0px, transparent 50%);
            background-size: 150% 150%;
            animation: gradientBG 20s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- HEADER --- */
        .top-bar {
            width: 100%;
            max-width: 1200px;
            padding: 20px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left h1 {
            font-size: 20px;
            font-weight: 800;
            color: #111827;
            letter-spacing: -0.5px;
            margin: 0;
        }
        .header-left p {
            font-size: 12px;
            color: #4b5563;
            margin: 2px 0 0 0;
            font-weight: 500;
        }

        .twitter-btn {
            display: flex; align-items: center; gap: 8px;
            background: white; padding: 8px 16px;
            border-radius: 50px; text-decoration: none; color: #111827;
            font-weight: 600; font-size: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); border: 1px solid #e2e8f0;
            transition: all 0.2s;
        }
        .twitter-btn:hover { transform: translateY(-2px); color: #0ea5e9; box-shadow: 0 5px 15px rgba(0,0,0,0.08); }
        .twitter-btn svg { width: 16px; height: 16px; fill: currentColor; }

        /* --- CONTAINER --- */
        .container {
            display: flex; gap: 40px; justify-content: center; align-items: flex-start;
            flex-wrap: wrap; width: 100%; max-width: 1200px; padding: 10px 20px 40px;
        }

        /* --- CONTROLS --- */
        .controls-panel {
            width: 380px; 
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            padding: 25px;
            border-radius: 16px;
            border: 1px solid white;
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.05);
        }

        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px; }
        .full-width { grid-column: span 2; }
        
        .input-group { display: flex; flex-direction: column; }
        
        label {
            font-size: 10px; font-weight: 700; color: #64748b; margin-bottom: 5px;
            text-transform: uppercase; letter-spacing: 0.5px;
        }

        input, select, textarea {
            width: 100%; padding: 8px 12px;
            border: 1px solid var(--border); border-radius: 8px;
            font-family: 'Inter', sans-serif; font-size: 13px; font-weight: 500;
            color: #1e293b; background: white; box-sizing: border-box;
            transition: all 0.2s ease; height: 40px;
        }
        textarea { height: auto; line-height: 1.5; padding: 10px; }

        input:focus, select:focus, textarea:focus {
            border-color: #6366f1; outline: none; box-shadow: 0 0 0 3px var(--focus-ring);
        }

        /* Toggles */
        .toggles {
            display: flex; background: #f1f5f9; padding: 3px; border-radius: 8px; margin-bottom: 20px;
        }
        .toggles button {
            flex: 1; padding: 8px; border: none; border-radius: 6px; font-size: 11px;
            font-weight: 600; cursor: pointer; background: transparent; color: #64748b; transition: 0.2s;
        }
        .toggles button.active { background: white; color: #0f172a; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }

        .section-separator {
            border-top: 1px solid #e2e8f0; margin: 15px 0 15px; position: relative;
        }
        .section-separator span {
            position: absolute; top: -8px; left: 0; background: rgba(255,255,255,0.9); padding-right: 8px;
            font-size: 10px; font-weight: 700; color: #94a3b8; text-transform: uppercase; letter-spacing: 1px;
        }

        .action-btns { display: flex; gap: 10px; margin-top: 25px; }
        .btn {
            flex: 1; padding: 12px; border-radius: 8px; font-weight: 600; cursor: pointer; border: none; font-size: 13px;
            transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        .btn-main { background: #0f172a; color: white; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .btn-main:hover { background: #1e293b; transform: translateY(-1px); }
        .btn-sec { background: white; color: #0f172a; border: 1px solid #e2e8f0; }
        .btn-sec:hover { background: #f8fafc; transform: translateY(-1px); }


        /* --- PREVIEW AREA --- */
        .preview-area { flex-grow: 1; display: flex; justify-content: center; padding-top: 10px; }

        #receipt-card {
            width: 420px; background: #ffffff; border-radius: 20px;
            position: relative; overflow: hidden;
            border: 1px solid var(--theme-border);
            box-shadow: var(--theme-glow), 0 20px 40px -10px rgba(0,0,0,0.1);
            transition: all 0.4s ease;
        }

        .card-head {
            background: linear-gradient(to bottom, var(--theme-soft), rgba(255,255,255,0));
            padding: 35px 30px 20px; text-align: center;
        }

        .icon-circle {
            width: 56px; height: 56px; border-radius: 50%; background: white;
            box-shadow: 0 10px 20px -5px rgba(0,0,0,0.08); 
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto 15px; color: var(--theme-color);
        }
        .icon-circle svg { width: 28px; height: 28px; fill: currentColor; }

        .status-pill {
            display: inline-block; padding: 5px 16px; border-radius: 50px;
            font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px;
            color: var(--theme-color); background: rgba(255,255,255,0.9);
            border: 1px solid var(--theme-border); margin-bottom: 15px;
        }

        /* Typography */
        .hero-big {
            font-size: 52px; font-weight: 800; color: #0f172a;
            letter-spacing: -2px; line-height: 1; margin-bottom: 5px;
            display: flex; align-items: flex-start; justify-content: center;
        }
        .hero-sym { 
            font-size: 28px; color: #94a3b8; font-weight: 600; 
            margin-right: 4px; margin-top: 4px; 
        }
        
        .hero-sub {
            font-size: 14px; color: #64748b; font-weight: 600; background: #f1f5f9;
            padding: 5px 12px; border-radius: 8px; display: inline-block;
        }

        .card-content { padding: 10px 35px 35px; }

        .info-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 14px 0; border-bottom: 1px dashed #e2e8f0;
        }
        .info-row:last-child { border-bottom: none; }
        .info-row.hidden { display: none; }

        .i-label { font-size: 13px; color: #64748b; font-weight: 500; }
        .i-val { font-size: 14px; color: #0f172a; font-weight: 600; }

        .chip { padding: 4px 10px; border-radius: 6px; font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
        .c-long { background: #eff6ff; color: #2563eb; }
        .c-short { background: #fff7ed; color: #ea580c; }

        .notes {
            background: #f8fafc; padding: 14px; border-radius: 10px;
            font-size: 13px; color: #475569; line-height: 1.5; border: 1px solid #f1f5f9; margin-top: 15px;
        }

        .card-foot {
            padding: 15px; text-align: center; font-size: 11px;
            color: #94a3b8; font-weight: 500; background: #fafafa; border-top: 1px solid #f1f5f9;
        }
        .card-foot strong { color: #6366f1; }

        /* Page Footer */
        .page-footer {
            margin-top: auto; padding: 20px; font-size: 12px; color: #64748b; text-align: center;
        }

    </style>
</head>
<body>

    <div class="top-bar">
        <div class="header-left">
            <h1>RTC Trading Receipt Generator</h1>
            <p>Create Verified Trading Records</p>
        </div>
        <a href="https://twitter.com/RashikTrades" target="_blank" class="twitter-btn">
            <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
            @RashikTrades
        </a>
    </div>

    <div class="container">
        
        <div class="controls-panel">
            <div class="toggles">
                <button class="active" id="btn-pnl" onclick="setMode('pnl')">Focus PnL ($)</button>
                <button id="btn-rr" onclick="setMode('rr')">Focus RR (Ratio)</button>
            </div>

            <div class="section-separator"><span>Trade Params</span></div>

            <div class="input-grid">
                <div class="input-group">
                    <label>Instrument</label>
                    <input type="text" id="inst" value="GOLD (GC)" oninput="update()">
                </div>
                <div class="input-group">
                    <label>Date</label>
                    <input type="date" id="date" onchange="update()">
                </div>
            </div>

            <div class="input-grid">
                <div class="input-group">
                    <label>Outcome</label>
                    <select id="result" onchange="update()">
                        <option value="win">Target Hit (Win)</option>
                        <option value="loss">Stop Loss (Loss)</option>
                        <option value="be">Breakeven</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Position</label>
                    <select id="side" onchange="update()">
                        <option value="LONG">LONG (Buy)</option>
                        <option value="SHORT">SHORT (Sell)</option>
                    </select>
                </div>
            </div>

            <div class="input-grid">
                <div class="input-group">
                    <label>PnL ($)</label>
                    <input type="number" id="pnl" value="1250" oninput="update()">
                </div>
                <div class="input-group">
                    <label>RR Ratio</label>
                    <select id="rr" onchange="update()">
                        <option value="1:1 R">1:1 R</option>
                        <option value="1:2 R">1:2 R</option>
                        <option value="1:2.5 R">1:2.5 R</option>
                        <option value="1:3 R">1:3 R</option>
                        <option value="1:3.5 R">1:3.5 R</option>
                        <option value="1:4 R">1:4 R</option>
                        <option value="1:5 R">1:5 R</option>
                        <option value="-1 R">Negative (-1R)</option>
                        <option value="0 R">Breakeven (0R)</option>
                    </select>
                </div>
            </div>

            <div class="section-separator"><span>Optional Prices</span></div>
            <div class="input-grid">
                <div class="input-group">
                    <label>Entry</label>
                    <input type="text" id="entry" placeholder="--" oninput="update()">
                </div>
                <div class="input-group">
                    <label>Exit</label>
                    <input type="text" id="exit" placeholder="--" oninput="update()">
                </div>
            </div>

            <div class="section-separator"><span>Analysis</span></div>
            <div class="input-grid">
                <div class="input-group">
                    <label>Setup</label>
                    <select id="setup" onchange="update()">
                        <option value="Reversal">Reversal</option>
                        <option value="Continuation">Continuation</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>POI</label>
                    <select id="poi" onchange="update()">
                        <option value="Bullish FVG">Bullish FVG</option>
                        <option value="Bearish FVG">Bearish FVG</option>
                        <option value="Swing High Sweep">Swing High Sweep</option>
                        <option value="Swing Low Sweep">Swing Low Sweep</option>
                        <option value="Order Block">Order Block</option>
                    </select>
                </div>
            </div>

            <div class="input-group full-width">
                <label>Psychology</label>
                <select id="psych" onchange="update()">
                    <option value="Disciplined Execution">Disciplined Execution</option>
                    <option value="Hesitation / Fear">Hesitation / Fear</option>
                    <option value="FOMO Entry">FOMO Entry</option>
                    <option value="Revenge Trade">Revenge Trade</option>
                    <option value="Forced Setup">Forced Setup</option>
                    <option value="Greed / Oversizing">Greed / Oversizing</option>
                    <option value="Patience Tested">Patience Tested</option>
                </select>
            </div>

            <div class="input-group full-width" style="margin-top: 12px;">
                <label>Notes</label>
                <textarea id="notes" rows="2" oninput="update()">Perfect execution. Followed the plan strictly.</textarea>
            </div>

            <div class="action-btns">
                <button class="btn btn-main" onclick="downloadImage()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    Save PNG
                </button>
                <button class="btn btn-sec" onclick="downloadPDF()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                    Save PDF
                </button>
            </div>
        </div>

        <div class="preview-area">
            <div id="receipt-card">
                
                <div class="card-head">
                    <div class="icon-circle" id="icon-box"></div>
                    <div class="status-pill" id="disp-status">TARGET HIT</div>
                    <div id="hero-area"></div>
                </div>

                <div class="card-content">
                    <div class="info-row">
                        <span class="i-label">Instrument</span>
                        <span class="i-val" id="disp-inst">GOLD (GC)</span>
                    </div>
                    <div class="info-row">
                        <span class="i-label">Date</span>
                        <span class="i-val" id="disp-date">Feb 09, 2026</span>
                    </div>
                    
                    <div class="info-row hidden" id="row-entry">
                        <span class="i-label">Entry Price</span>
                        <span class="i-val" id="disp-entry">--</span>
                    </div>
                    <div class="info-row hidden" id="row-exit">
                        <span class="i-label">Exit Price</span>
                        <span class="i-val" id="disp-exit">--</span>
                    </div>

                    <div class="info-row">
                        <span class="i-label">Side</span>
                        <span class="i-val"><span class="chip c-long" id="disp-side">LONG</span></span>
                    </div>
                    <div class="info-row">
                        <span class="i-label">Setup</span>
                        <span class="i-val" id="disp-setup">Reversal</span>
                    </div>
                    <div class="info-row">
                        <span class="i-label">POI</span>
                        <span class="i-val" id="disp-poi">Bullish FVG</span>
                    </div>
                    <div class="info-row">
                        <span class="i-label">Emotion</span>
                        <span class="i-val" id="disp-psych">Disciplined Execution</span>
                    </div>

                    <div class="notes" id="disp-notes">
                        Perfect execution. Followed the plan strictly.
                    </div>
                </div>

                <div class="card-foot">
                    RTC Official Record | <strong>@RashikTrades</strong>
                </div>

            </div>
        </div>
    </div>

    <footer class="page-footer">
        &copy; 2026 RashikTrades | Made for RTC Members
    </footer>

    <script>
        let mode = 'pnl';
        document.getElementById('date').valueAsDate = new Date();
        const root = document.documentElement;

        function setMode(m) {
            mode = m;
            document.getElementById('btn-pnl').className = m === 'pnl' ? 'active' : '';
            document.getElementById('btn-rr').className = m === 'rr' ? 'active' : '';
            update();
        }

        function update() {
            // Data Gathering
            const inst = document.getElementById('inst').value.trim();
            const dateVal = document.getElementById('date').value;
            const entryVal = document.getElementById('entry').value.trim();
            const exitVal = document.getElementById('exit').value.trim();
            const res = document.getElementById('result').value;
            const pnl = parseFloat(document.getElementById('pnl').value || 0);
            const rr = document.getElementById('rr').value;
            const setup = document.getElementById('setup').value;
            const poi = document.getElementById('poi').value;
            const psych = document.getElementById('psych').value;
            const side = document.getElementById('side').value;
            const notes = document.getElementById('notes').value;

            // UI
            document.getElementById('disp-inst').innerText = inst || 'ASSET';
            document.getElementById('disp-date').innerText = new Date(dateVal).toLocaleDateString('en-US', {month:'short', day:'numeric', year:'numeric'});
            document.getElementById('disp-setup').innerText = setup;
            document.getElementById('disp-poi').innerText = poi;
            document.getElementById('disp-psych').innerText = psych;
            document.getElementById('disp-notes').innerText = notes;
            
            // Toggle Rows
            const rowEntry = document.getElementById('row-entry');
            const rowExit = document.getElementById('row-exit');
            if(entryVal) { rowEntry.classList.remove('hidden'); document.getElementById('disp-entry').innerText = entryVal; } else { rowEntry.classList.add('hidden'); }
            if(exitVal) { rowExit.classList.remove('hidden'); document.getElementById('disp-exit').innerText = exitVal; } else { rowExit.classList.add('hidden'); }

            // Position Chip
            const s = document.getElementById('disp-side');
            s.innerText = side;
            s.className = side === 'LONG' ? 'chip c-long' : 'chip c-short';

            // Theme & Hero Logic
            const iconBox = document.getElementById('icon-box');
            const statusTxt = document.getElementById('disp-status');
            const hero = document.getElementById('hero-area');
            let pnlStr = pnl.toLocaleString('en-US', {minimumFractionDigits: 2});
            let iconSvg = '';

            if(res === 'win') {
                root.style.setProperty('--theme-color', '#10b981'); 
                root.style.setProperty('--theme-soft', '#ecfdf5');  
                root.style.setProperty('--theme-glow', '0 0 50px rgba(16, 185, 129, 0.4)');
                root.style.setProperty('--theme-border', 'rgba(16, 185, 129, 0.3)');
                statusTxt.innerText = 'TARGET HIT';
                iconSvg = '<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>';
            } else if(res === 'loss') {
                root.style.setProperty('--theme-color', '#ef4444'); 
                root.style.setProperty('--theme-soft', '#fef2f2');  
                root.style.setProperty('--theme-glow', '0 0 50px rgba(239, 68, 68, 0.4)');
                root.style.setProperty('--theme-border', 'rgba(239, 68, 68, 0.3)');
                statusTxt.innerText = 'STOP LOSS HIT';
                pnlStr = '-' + Math.abs(pnl).toLocaleString('en-US', {minimumFractionDigits: 2});
                iconSvg = '<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>';
            } else {
                root.style.setProperty('--theme-color', '#64748b'); 
                root.style.setProperty('--theme-soft', '#f8fafc');  
                root.style.setProperty('--theme-glow', '0 0 40px rgba(100, 116, 139, 0.2)');
                root.style.setProperty('--theme-border', 'rgba(100, 116, 139, 0.3)');
                statusTxt.innerText = 'BREAKEVEN';
                pnlStr = '0.00';
                iconSvg = '<svg viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z"/></svg>';
            }
            iconBox.innerHTML = iconSvg;

            if(mode === 'pnl') {
                hero.innerHTML = `<div class="hero-big"><span class="hero-sym">$</span>${pnlStr}</div><div class="hero-sub">Result: ${rr}</div>`;
            } else {
                hero.innerHTML = `<div class="hero-big">${rr}</div>`;
            }
        }

        update();

        // Filename Logic (Date Only)
        function getFilename(prefix, ext) {
            const now = new Date();
            const dateStr = now.getFullYear() + "-" + (now.getMonth() + 1).toString().padStart(2, '0') + "-" + now.getDate().toString().padStart(2, '0');
            return `${prefix}_${dateStr}.${ext}`;
        }

        // 6K Resolution Image Export
        function downloadImage() {
            const el = document.getElementById('receipt-card');
            html2canvas(el, { scale: 6, backgroundColor: null, useCORS: true }).then(c => {
                const a = document.createElement('a');
                a.download = getFilename("RTC_Receipt", "png");
                a.href = c.toDataURL("image/png");
                a.click();
            });
        }

        // PDF with FOOTER LINK OVERLAY
        function downloadPDF() {
            const { jsPDF } = window.jspdf;
            const el = document.getElementById('receipt-card');
            
            const wrapper = document.createElement('div');
            wrapper.style.width='595px'; wrapper.style.padding='40px'; wrapper.style.background='#fff';
            wrapper.style.display='flex'; wrapper.style.flexDirection='column'; wrapper.style.alignItems='center';
            wrapper.style.position='absolute'; wrapper.style.top='-9999px';
            
            const h = document.createElement('h2'); 
            h.innerText="RTC Official Report"; h.style.fontFamily="sans-serif"; h.style.color="#1e293b"; h.style.marginBottom="30px";
            
            const cl = el.cloneNode(true); 
            cl.style.boxShadow='none'; cl.style.border='1px solid #e2e8f0';
            
            wrapper.appendChild(h); wrapper.appendChild(cl); document.body.appendChild(wrapper);
            
            html2canvas(wrapper, {scale:3}).then(c => {
                const pdf = new jsPDF('p','mm','a4');
                const img = c.toDataURL('image/jpeg', 1.0);
                const pdfWidth = pdf.internal.pageSize.getWidth();
                const pdfHeight = (c.height*pdfWidth)/c.width;
                
                pdf.addImage(img, 'JPEG', 0, 0, pdfWidth, pdfHeight);
                
                // INVISIBLE LINK OVERLAY ON FOOTER
                const footerHeight = pdfHeight * 0.08; 
                const footerY = pdfHeight - footerHeight;
                pdf.link(0, footerY, pdfWidth, footerHeight, { url: 'https://twitter.com/RashikTrades' });

                pdf.save(getFilename("RTC_Report", "pdf"));
                document.body.removeChild(wrapper);
            });
        }
    </script>
</body>
</html>